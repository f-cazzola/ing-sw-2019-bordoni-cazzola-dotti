<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.4) on Fri Jul 05 23:47:17 CEST 2019 -->
<title>MatchController</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2019-07-05">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MatchController";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":9,"i18":10,"i19":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.controller</a></div>
<h2 title="Class MatchController" class="title">Class MatchController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>it.polimi.ingsw.controller.MatchController</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.lang.Runnable</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">MatchController</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block">This class manages an entire match.
 Controls the flow of a game, modifies the model using inputs received from the views.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#endMatch">endMatch</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#MARKS_PER_EXTRA_DAMAGE">MARKS_PER_EXTRA_DAMAGE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../model/Match.html" title="class in it.polimi.ingsw.model">Match</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#match">match</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#players">players</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#POINTS_PER_FIRST_BLOOD">POINTS_PER_FIRST_BLOOD</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#POINTS_PER_KILL">POINTS_PER_KILL</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#POINTS_PER_KILL_FLIPPED_BOARD">POINTS_PER_KILL_FLIPPED_BOARD</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>,&#8203;<a href="../view/ViewInterface.html" title="interface in it.polimi.ingsw.view">ViewInterface</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#virtualViews">virtualViews</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.util.Map,int,int)">MatchController</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;<a href="../view/ViewInterface.html" title="interface in it.polimi.ingsw.view">ViewInterface</a>&gt;&nbsp;lobby,
               int&nbsp;gameBoardNumber,
               int&nbsp;skulls)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#calculateFinalScores()">calculateFinalScores</a></span>()</code></th>
<td class="colLast">
<div class="block">This method calculates the leaderboard
 Break the tie in favor of the player who got the higher score on the kill shot track</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#calculateTrackScores(it.polimi.ingsw.model.Player)">calculateTrackScores</a></span>&#8203;(<a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a>&nbsp;deadPlayer)</code></th>
<td class="colLast">
<div class="block">This method adds the points for the deadPlayer's track.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkDisconnections()">checkDisconnections</a></span>()</code></th>
<td class="colLast">
<div class="block">This method checks if min number of players is connected or ends the match</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#disconnect(java.lang.String)">disconnect</a></span>&#8203;(java.lang.String&nbsp;username)</code></th>
<td class="colLast">
<div class="block">This method sets as disconnected the player</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#endTurnControls(it.polimi.ingsw.model.Player)">endTurnControls</a></span>&#8203;(<a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a>&nbsp;currentPlayer)</code></th>
<td class="colLast">
<div class="block">This method shall be called at end of each player's turn.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private <a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPlayerById(it.polimi.ingsw.model.PlayerId)">getPlayerById</a></span>&#8203;(<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>&nbsp;playerId)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#giveFlippedBoards()">giveFlippedBoards</a></span>()</code></th>
<td class="colLast">
<div class="block">This method make all players with no damage (including those who were just scored) flip their boards over.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reconnect(java.lang.String)">reconnect</a></span>&#8203;(java.lang.String&nbsp;username)</code></th>
<td class="colLast">
<div class="block">This method reconnects a player to the game</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#respawn(it.polimi.ingsw.model.Player)">respawn</a></span>&#8203;(<a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a>&nbsp;currentPlayer)</code></th>
<td class="colLast">
<div class="block">This method handles the respawn phase</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#run()">run</a></span>()</code></th>
<td class="colLast">
<div class="block">This method starts the match</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#runFinalFrenzyTurn(int)">runFinalFrenzyTurn</a></span>&#8203;(int&nbsp;currentPlayerIndex)</code></th>
<td class="colLast">
<div class="block">This method handles the last turn of each player</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#runFirstTurn()">runFirstTurn</a></span>()</code></th>
<td class="colLast">
<div class="block">This method handles the first turn of each player</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>private int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#runTurn(int)">runTurn</a></span>&#8203;(int&nbsp;currentPlayerIndex)</code></th>
<td class="colLast">
<div class="block">This method handles a player turn</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private <a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#scoreAllBoards()">scoreAllBoards</a></span>()</code></th>
<td class="colLast">
<div class="block">This method is called after  the  final  turn,  score  all  boards  that  still  have  damage  tokens.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#scoreKillShotTrackPoints(it.polimi.ingsw.model.PlayerId%5B%5D)">scoreKillShotTrackPoints</a></span>&#8203;(<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>[]&nbsp;keys)</code></th>
<td class="colLast">
<div class="block">This method assigns points for the kill shot track</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#scoreTrackPoints(it.polimi.ingsw.model.Player,it.polimi.ingsw.model.PlayerId%5B%5D)">scoreTrackPoints</a></span>&#8203;(<a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a>&nbsp;deadPlayer,
                <a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>[]&nbsp;keys)</code></th>
<td class="colLast">
<div class="block">This method adds the points for number of damage tokens</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendFirstStateOfModel()">sendFirstStateOfModel</a></span>()</code></th>
<td class="colLast">
<div class="block">This method sends an update of the match to every client</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>(package private) static java.util.Map&lt;<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>,&#8203;java.lang.Long&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sort(java.util.Map,java.util.List)">sort</a></span>&#8203;(java.util.Map&lt;<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>,&#8203;java.lang.Long&gt;&nbsp;counts,
    java.util.List&lt;<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>&gt;&nbsp;orderByFirstBlood)</code></th>
<td class="colLast">
<div class="block">This method orders a map following the official rules:
 If multiple players dealt the same amount of damage, break the tie in favor of the player whose damage landed first</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>private <a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sortByPoints(java.util.List)">sortByPoints</a></span>&#8203;(java.util.List&lt;<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>&gt;&nbsp;track)</code></th>
<td class="colLast">
<div class="block">This method return an array of PlayerId ordered by most points scored on this track</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#spawnFirstTime(it.polimi.ingsw.model.Player)">spawnFirstTime</a></span>&#8203;(<a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a>&nbsp;currentPlayer)</code></th>
<td class="colLast">
<div class="block">This method handles the spawn before the first turn starts</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="POINTS_PER_KILL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>POINTS_PER_KILL</h4>
<pre>private static final&nbsp;int[] POINTS_PER_KILL</pre>
</li>
</ul>
<a id="POINTS_PER_KILL_FLIPPED_BOARD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>POINTS_PER_KILL_FLIPPED_BOARD</h4>
<pre>private static final&nbsp;int[] POINTS_PER_KILL_FLIPPED_BOARD</pre>
</li>
</ul>
<a id="POINTS_PER_FIRST_BLOOD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>POINTS_PER_FIRST_BLOOD</h4>
<pre>private static final&nbsp;int POINTS_PER_FIRST_BLOOD</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#it.polimi.ingsw.controller.MatchController.POINTS_PER_FIRST_BLOOD">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="MARKS_PER_EXTRA_DAMAGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MARKS_PER_EXTRA_DAMAGE</h4>
<pre>private static final&nbsp;int MARKS_PER_EXTRA_DAMAGE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#it.polimi.ingsw.controller.MatchController.MARKS_PER_EXTRA_DAMAGE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="match">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>match</h4>
<pre>private final&nbsp;<a href="../model/Match.html" title="class in it.polimi.ingsw.model">Match</a> match</pre>
</li>
</ul>
<a id="virtualViews">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>virtualViews</h4>
<pre>private final&nbsp;java.util.Map&lt;<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>,&#8203;<a href="../view/ViewInterface.html" title="interface in it.polimi.ingsw.view">ViewInterface</a>&gt; virtualViews</pre>
</li>
</ul>
<a id="players">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>players</h4>
<pre>private final&nbsp;java.util.List&lt;<a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a>&gt; players</pre>
</li>
</ul>
<a id="endMatch">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>endMatch</h4>
<pre>private&nbsp;boolean endMatch</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.util.Map,int,int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MatchController</h4>
<pre>public&nbsp;MatchController&#8203;(java.util.Map&lt;java.lang.String,&#8203;<a href="../view/ViewInterface.html" title="interface in it.polimi.ingsw.view">ViewInterface</a>&gt;&nbsp;lobby,
                       int&nbsp;gameBoardNumber,
                       int&nbsp;skulls)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="sendFirstStateOfModel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendFirstStateOfModel</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;sendFirstStateOfModel()</pre>
<div class="block">This method sends an update of the match to every client</div>
</li>
</ul>
<a id="reconnect(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reconnect</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;reconnect&#8203;(java.lang.String&nbsp;username)</pre>
<div class="block">This method reconnects a player to the game</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - Username of the player who's reconnected</dd>
</dl>
</li>
</ul>
<a id="disconnect(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnect</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;disconnect&#8203;(java.lang.String&nbsp;username)</pre>
<div class="block">This method sets as disconnected the player</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - Username of the player who's disconnected</dd>
</dl>
</li>
</ul>
<a id="sort(java.util.Map,java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sort</h4>
<pre class="methodSignature">static&nbsp;java.util.Map&lt;<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>,&#8203;java.lang.Long&gt;&nbsp;sort&#8203;(java.util.Map&lt;<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>,&#8203;java.lang.Long&gt;&nbsp;counts,
                                                         java.util.List&lt;<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>&gt;&nbsp;orderByFirstBlood)</pre>
<div class="block">This method orders a map following the official rules:
 If multiple players dealt the same amount of damage, break the tie in favor of the player whose damage landed first</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>counts</code> - map to order (ID,number of points/tokens)</dd>
<dd><code>orderByFirstBlood</code> - must be ordered by first blood</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Leaderboard (ordered Map)</dd>
</dl>
</li>
</ul>
<a id="runFirstTurn()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runFirstTurn</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;runFirstTurn()</pre>
<div class="block">This method handles the first turn of each player</div>
</li>
</ul>
<a id="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;run()</pre>
<div class="block">This method starts the match</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
<a id="runTurn(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runTurn</h4>
<pre class="methodSignature">private&nbsp;int&nbsp;runTurn&#8203;(int&nbsp;currentPlayerIndex)</pre>
<div class="block">This method handles a player turn</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>currentPlayerIndex</code> - Player's index whose turn is starting</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>next player's index</dd>
</dl>
</li>
</ul>
<a id="endTurnControls(it.polimi.ingsw.model.Player)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endTurnControls</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;endTurnControls&#8203;(<a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a>&nbsp;currentPlayer)</pre>
<div class="block">This method shall be called at end of each player's turn. Checks disconnections, restores cards, scores points, respawns dead players.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>currentPlayer</code> - Player whose turn just ended</dd>
</dl>
</li>
</ul>
<a id="runFinalFrenzyTurn(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runFinalFrenzyTurn</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;runFinalFrenzyTurn&#8203;(int&nbsp;currentPlayerIndex)</pre>
<div class="block">This method handles the last turn of each player</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>currentPlayerIndex</code> - index of the first player to play the last turn</dd>
</dl>
</li>
</ul>
<a id="giveFlippedBoards()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>giveFlippedBoards</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;giveFlippedBoards()</pre>
<div class="block">This method make all players with no damage (including those who were just scored) flip their boards over.
 They keep marks and ammo.</div>
</li>
</ul>
<a id="calculateFinalScores()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateFinalScores</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;calculateFinalScores()</pre>
<div class="block">This method calculates the leaderboard
 Break the tie in favor of the player who got the higher score on the kill shot track</div>
</li>
</ul>
<a id="scoreAllBoards()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scoreAllBoards</h4>
<pre class="methodSignature">private&nbsp;<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>[]&nbsp;scoreAllBoards()</pre>
<div class="block">This method is called after  the  final  turn,  score  all  boards  that  still  have  damage  tokens.
 Score  them  as  you  usually would, except, of course, they don't have kill shots.
 If you are playing with the final frenzy rules, don't forget that flipped boards offer no point for first blood.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Kill shot Track leaderboard</dd>
</dl>
</li>
</ul>
<a id="calculateTrackScores(it.polimi.ingsw.model.Player)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateTrackScores</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;calculateTrackScores&#8203;(<a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a>&nbsp;deadPlayer)</pre>
<div class="block">This method adds the points for the deadPlayer's track. Adds marks to kill shot Track</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>deadPlayer</code> - track to score owner.</dd>
</dl>
</li>
</ul>
<a id="sortByPoints(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sortByPoints</h4>
<pre class="methodSignature">private&nbsp;<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>[]&nbsp;sortByPoints&#8203;(java.util.List&lt;<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>&gt;&nbsp;track)</pre>
<div class="block">This method return an array of PlayerId ordered by most points scored on this track</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>track</code> - track to score</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Array ordered by first blood</dd>
</dl>
</li>
</ul>
<a id="scoreTrackPoints(it.polimi.ingsw.model.Player,it.polimi.ingsw.model.PlayerId[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scoreTrackPoints</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;scoreTrackPoints&#8203;(<a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a>&nbsp;deadPlayer,
                              <a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>[]&nbsp;keys)</pre>
<div class="block">This method adds the points for number of damage tokens</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>deadPlayer</code> - player dead</dd>
<dd><code>keys</code> - must be sorted by rules</dd>
</dl>
</li>
</ul>
<a id="scoreKillShotTrackPoints(it.polimi.ingsw.model.PlayerId[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scoreKillShotTrackPoints</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;scoreKillShotTrackPoints&#8203;(<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>[]&nbsp;keys)</pre>
<div class="block">This method assigns points for the kill shot track</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keys</code> - sorted by rules</dd>
</dl>
</li>
</ul>
<a id="respawn(it.polimi.ingsw.model.Player)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>respawn</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;respawn&#8203;(<a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a>&nbsp;currentPlayer)</pre>
<div class="block">This method handles the respawn phase</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>currentPlayer</code> - player to respawn</dd>
</dl>
</li>
</ul>
<a id="spawnFirstTime(it.polimi.ingsw.model.Player)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>spawnFirstTime</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;spawnFirstTime&#8203;(<a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a>&nbsp;currentPlayer)</pre>
<div class="block">This method handles the spawn before the first turn starts</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>currentPlayer</code> - player to spawn</dd>
</dl>
</li>
</ul>
<a id="checkDisconnections()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDisconnections</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;checkDisconnections()</pre>
<div class="block">This method checks if min number of players is connected or ends the match</div>
</li>
</ul>
<a id="getPlayerById(it.polimi.ingsw.model.PlayerId)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getPlayerById</h4>
<pre class="methodSignature">private&nbsp;<a href="../model/Player.html" title="class in it.polimi.ingsw.model">Player</a>&nbsp;getPlayerById&#8203;(<a href="../model/PlayerId.html" title="enum in it.polimi.ingsw.model">PlayerId</a>&nbsp;playerId)</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
